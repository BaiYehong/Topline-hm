(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46f6784b"],{"053b":function(t,e,n){var r=n("1e2c"),a=n("d910").f,o=Function.prototype,u=o.toString,c=/^\s*function ([^ (]*)/,i="name";r&&!(i in o)&&a(o,i,{configurable:!0,get:function(){try{return u.call(this).match(c)[1]}catch(t){return""}}})},"32b4":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.value,(function(e,r){return n("div",{key:r},[t._t("default",[t._v(t._s(e))],{item:e})],2)})),0)},a=[],o=(n("513c"),n("a7c7")),u=(n("b449"),n("9666")),c={name:"LoadingList",props:{fn:{type:Function,required:!0},value:{type:Array,default:function(){return[]}},totalCount:{type:Number}},components:{},data:function(){return{loading:!1,finished:!1,page:1,per_page:10}},created:function(){},mounted:function(){},methods:{onLoad:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,r,a,u,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fn({page:t.page,per_page:t.per_page});case 2:r=e.sent,a=r.data,u=a.data,c=u.results,i=u.total_count,(n=t.value).push.apply(n,Object(o["a"])(c)),t.$emit("update:total-count",i),t.loading=!1,c.length?t.page++:t.finished=!0;case 9:case"end":return e.stop()}}),e)})))()}}},i=c,s=n("9ca4"),l=Object(s["a"])(i,r,a,!1,null,"572fea65",null);e["a"]=l.exports},"373e":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("van-nav-bar",{staticClass:"page-navbar",attrs:{"left-arrow":"",fixed:"",title:"我的关注/粉丝"},on:{"click-left":function(e){return t.$router.back()}}}),n("van-tabs",{staticClass:"fixed-tabs",attrs:{border:!1,color:"#3196fa","title-active-color":"#3196fa","title-inactive-color":"#000",background:"#fff"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tab",{attrs:{title:"关注"}},[n("UserFollowing",{attrs:{userId:t.userId}})],1),n("van-tab",{attrs:{title:"粉丝"}},[n("UserFollower",{attrs:{userId:t.userId}})],1)],1)],1)},a=[],o=(n("ecb4"),n("513c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("loading-list",{attrs:{fn:t.fn},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("van-cell",{staticClass:"item-list"},[n("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",fit:"cover",src:r.photo},on:{click:function(e){return t.$router.push({name:"user",params:{userId:r.id}})}},slot:"icon"}),n("span",{attrs:{slot:"title",calss:"title"},slot:"title"},[t._v(t._s(r.name.trim()||"黑马头条号"))]),n("span",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[t._v("粉丝数："+t._s(r.fans_count))]),n("follow-user",{attrs:{"user-id":r.id},model:{value:r.mutual_follow,callback:function(e){t.$set(r,"mutual_follow",e)},expression:"item.mutual_follow"}})],1)]}}])})}),u=[],c=n("32b4"),i=n("c24f"),s=n("f50e"),l={name:"FollowAndFans",props:{userId:{type:[Number,String,Object],required:!0}},components:{loadingList:c["a"],FollowUser:s["a"]},data:function(){return{fn:i["b"].bind(null,this.userId)}},created:function(){},mounted:function(){},methods:{}},f=l,d=(n("a06d"),n("9ca4")),p=Object(d["a"])(f,o,u,!1,null,"64f42505",null),v=p.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("loading-list",{attrs:{fn:t.fn},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("van-cell",{staticClass:"item-list"},[n("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",fit:"cover",src:r.photo},on:{click:function(e){return t.$router.push({name:"user",params:{userId:r.id}})}},slot:"icon"}),n("span",{attrs:{slot:"title",calss:"title"},slot:"title"},[t._v(t._s(r.name.trim()||"黑马头条号"))]),n("span",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[t._v("粉丝数："+t._s(r.fans_count))]),n("van-button",{attrs:{type:"default",size:"small"}},[t._v("已关注")])],1)]}}])})},m=[],h={name:"FollowAndFans",props:{userId:{type:[Number,String,Object],required:!0}},components:{loadingList:c["a"]},data:function(){return{fn:i["c"].bind(null,this.userId)}},created:function(){},mounted:function(){},methods:{}},g=h,_=(n("ab17"),Object(d["a"])(g,b,m,!1,null,"2fb55426",null)),y=_.exports,w={name:"FollowAndFans",props:{userId:{type:[Number,String,Object],required:!0},type:{type:String}},components:{UserFollower:v,UserFollowing:y},data:function(){var t=["following","follower"].indexOf(this.type);return{active:t}},created:function(){},mounted:function(){},methods:{}},O=w,I=Object(d["a"])(O,r,a,!1,null,"20a52922",null);e["default"]=I.exports},"50f8":function(t,e,n){"use strict";var r=n("0261");new r["a"]},"513c":function(t,e,n){"use strict";var r=n("1e2c"),a=n("d890"),o=n("e8d6"),u=n("1944"),c=n("faa8"),i=n("2118"),s=n("7063"),l=n("9f67"),f=n("efe2"),d=n("6d60"),p=n("b338").f,v=n("aa6b").f,b=n("d910").f,m=n("c10f").trim,h="Number",g=a[h],_=g.prototype,y=i(d(_))==h,w=function(t){var e,n,r,a,o,u,c,i,s=l(t,!1);if("string"==typeof s&&s.length>2)if(s=m(s),e=s.charCodeAt(0),43===e||45===e){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+s}for(o=s.slice(2),u=o.length,c=0;c<u;c++)if(i=o.charCodeAt(c),i<48||i>a)return NaN;return parseInt(o,r)}return+s};if(o(h,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var O,I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(y?f((function(){_.valueOf.call(n)})):i(n)!=h)?s(new g(w(e)),n,I):w(e)},j=r?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;j.length>E;E++)c(g,O=j[E])&&!c(I,O)&&b(I,O,v(g,O));I.prototype=_,_.constructor=I,u(a,h,I)}},"56cc":function(t,e,n){},7063:function(t,e,n){var r=n("a719"),a=n("50fb");t.exports=function(t,e,n){var o,u;return a&&"function"==typeof(o=e.constructor)&&o!==n&&r(u=o.prototype)&&u!==n.prototype&&a(t,u),t}},"77ad":function(t,e,n){"use strict";var r=n("1c8b"),a=n("a719"),o=n("74e7"),u=n("e1d6"),c=n("d88d"),i=n("da10"),s=n("1bbd"),l=n("90fb"),f=n("1ea7"),d=n("ff9c"),p=f("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),b=l("species"),m=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var n,r,l,f=i(this),d=c(f.length),p=u(t,d),v=u(void 0===e?d:e,d);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?a(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,p,v);for(r=new(void 0===n?Array:n)(h(v-p,0)),l=0;p<v;p++,l++)p in f&&s(r,l,f[p]);return r.length=l,r}})},"98e0":function(t,e,n){var r=n("1c8b"),a=n("e62b"),o=n("f471"),u=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:u},{from:a})},a06d:function(t,e,n){"use strict";var r=n("56cc"),a=n.n(r);a.a},a7c7:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){if(Array.isArray(t))return r(t)}n.d(e,"a",(function(){return i}));n("f3dd"),n("0a51"),n("9b11"),n("98e0"),n("e18c"),n("96db"),n("af86");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n("77ad"),n("053b"),n("1c2e");function u(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){return a(t)||o(t)||u(t)||c()}},ab17:function(t,e,n){"use strict";var r=n("f01c"),a=n.n(r);a.a},c10f:function(t,e,n){var r=n("2732"),a=n("fc8c"),o="["+a+"]",u=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),i=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(u,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:i(1),end:i(2),trim:i(3)}},c24f:function(t,e,n){"use strict";n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"m",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return p})),n.d(e,"c",(function(){return v})),n.d(e,"b",(function(){return b})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return h})),n.d(e,"f",(function(){return g}));n("e18c"),n("1c2e");var r=n("b775"),a=function(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/authorizations",data:t})};function o(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/sms/codes/".concat(t)})}function u(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/channels"})}function c(t){return Object(r["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:t}})}function i(t){return Object(r["a"])({method:"DELETE",url:"/app/v1_0/user/followings/".concat(t)})}function s(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user"})}function l(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/users/".concat(t)})}function f(){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/profile"})}var d=function(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:t})},p=function(t){return Object(r["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:t})},v=function(t,e){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followings",params:e,data:{target:t.toString()}})},b=function(t,e){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/followers",params:e,data:{target:t.toString()}})},m=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/article/collections",params:t})},h=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/histories",params:t})},g=function(t){return Object(r["a"])({method:"GET",url:"/app/v1_0/user/articles",params:t})}},e62b:function(t,e,n){"use strict";var r=n("e349"),a=n("3553"),o=n("69c5"),u=n("98a9"),c=n("d88d"),i=n("1bbd"),s=n("b60f");t.exports=function(t){var e,n,l,f,d,p,v=a(t),b="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,g=void 0!==h,_=s(v),y=0;if(g&&(h=r(h,m>2?arguments[2]:void 0,2)),void 0==_||b==Array&&u(_))for(e=c(v.length),n=new b(e);e>y;y++)p=g?h(v[y],y):v[y],i(n,y,p);else for(f=_.call(v),d=f.next,n=new b;!(l=d.call(f)).done;y++)p=g?o(f,h,[l.value,y],!0):l.value,i(n,y,p);return n.length=y,n}},f01c:function(t,e,n){},f50e:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-button",t._b({attrs:{type:t.value?"default":"info",icon:t.value?"":"plus",size:"small",loading:t.loading},on:{click:function(e){return e.stopPropagation(),t.onFollow(e)}}},"van-button",t.$attrs,!1),[t._v(t._s(t.value?"已关注":"关注"))])},a=[],o=(n("513c"),n("b449"),n("9666")),u=n("c24f"),c=(n("50f8"),{name:"FollowUser",props:{value:{type:Boolean},userId:{type:[Number,String,Object],required:!0}},components:{},data:function(){return{loading:!1}},created:function(){},mounted:function(){},methods:{onFollow:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,!t.value){e.next=7;break}return e.next=5,Object(u["m"])(t.userId);case 5:e.next=9;break;case 7:return e.next=9,Object(u["a"])(t.userId);case 9:t.$emit("input",!t.value),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),e.t0.response&&400===e.t0.response.status&&t.$toast("你不能关注你自己");case 15:t.loading=!1;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}}),i=c,s=n("9ca4"),l=Object(s["a"])(i,r,a,!1,null,"1cb19743",null);e["a"]=l.exports},fc8c:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-46f6784b.c83f8311.js.map